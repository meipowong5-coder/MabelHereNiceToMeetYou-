<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Me - Mabel's Website</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { background: white; scroll-behavior: smooth; }
        body {
            background: rgb(92, 165, 165);
            color: khaki;
            font: 16px/1.8 Tahoma, sans-serif;
        }

        nav {
            margin: 2em auto;
            text-align: center;
            padding: 0 5px;
            overflow-x: auto;
            white-space: nowrap;
        }

        nav ul {
            display: inline-flex;
            gap: 0.8em;
            list-style: none;
            padding: 8px 0;
        }

        .view-more-btn {
            padding: 12px 18px;
            background: khaki;
            color: rgb(92, 165, 165);
            font-weight: bold;
            font-size: 1.05em Tahoma, sans-serif;
            border-radius: 50px;
            text-decoration: none;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .view-more-btn:hover {
            background: antiquewhite;
            transform: scale(1.05);
        }

        /* Main layout */
        #about {
            padding: 40px 5vw 50px;
            background: rgb(92, 165, 165);
        }

        #about > h2 {
            text-align: center;
            font-size: 2.em;
            color: antiquewhite;
            margin-bottom: 10px;
        }

        .about-list {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 25px;
        }

        .about-entry {
            background: rgb(92, 165, 165);
            border: dotted antiquewhite 6px;
            border-radius: 2.5em;
            padding: 20px 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.35);
            transition: all 0.6s ease;
        }

        .about-entry:hover {
            transform: translateY(-12px);
            box-shadow: 0 40px 90px rgba(0,0,0,0.45);
        }

        .about-title {
            text-align: center;
            font-size: 2em;
            color: antiquewhite;
            margin-bottom: 25px;
        }

        .about-body {
            display: flex;
            flex-direction: column;
            gap: 20px;
            align-items: center;
        }

        @media (min-width: 900px) {
            .about-body {
                flex-direction: row;
                align-items: flex-start;
                justify-content: center;
                gap: 25px;
            }
        }

        .about-text {
            flex: 1;
            min-width: 0;
            text-align: center;
        }

        @media (min-width: 900px) {
            .about-text { text-align: left; }
        }

        .about-points {
            font-size: 1.em;
            line-height: 2.1;
            color: khaki;
        }

        .about-points div {
            margin-bottom: 15px;
        }

        .about-points strong {
            color: antiquewhite;
            font-size: 1.em;
        }

        /* D3 Charts - FULLY RESPONSIVE */
        .chart-container {
            width: 70%;
            max-width: 600px;
            margin: 0 auto;
        }

        .chart-container svg {
            width: 70% !important;
            height: auto !important;
            display: block;
        }

        /* Drawing Lightbox */
        #drawing-lightbox {
            display: none;
            position: fixed;
            z-index: 9999;
            inset: 0;
            background: rgba(0,0,0,0.94);
            justify-content: center;
            align-items: center;
            cursor: pointer;
        }

        #drawing-lightbox img {
            max-width: 70%;
            max-height: 85vh;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.8);
        }

        .drawing-close {
            position: absolute;
            top: 30px;
            left: 40px;
            color: #fff;
            font-size: 50bold;
            cursor: pointer;
        }

        .drawing-nav {
            position: absolute;
            top: 50%;
            font-size: 50px;
            color: #fff;
            cursor: pointer;
            user-select: none;
            padding: 0 20px;
            transform: translateY(-50%);
        }

        #drawing-prev { left: 30px; }
        #drawing-next { right: 30px; }

        /* Back to Top */
        #back-to-top {
            position: fixed;
            bottom: 35px;
            right: 35px;
            width: 64px;
            height: 64px;
            background: khaki;
            color: rgb(92, 165, 165);
            border: none;
            border-radius: 50%;
            font-size: 32px;
            cursor: pointer;
            box-shadow: 0 10px 35px rgba(0,0,0,0.5);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            z-index: 998;
        }

        #back-to-top.show {
            opacity: 1;
            visibility: visible;
        }

        #back-to-top:hover {
            background: antiquewhite;
            transform: scale(1.15);
        }

        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            background: rgb(92, 165, 165);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            color: khaki;
            font-size: 1.8em;
            transition: opacity 0.8s ease-out;
        }

        .hourglass {
            width: 100px;
            height: 100px;
            border: 12px solid khaki;
            border-radius: 50%;
            border-top-color: transparent;
            border-bottom-color: transparent;
            animation: spin 1.4s linear infinite;
            margin-bottom: 40px;
        }

        @keyframes spin { to { transform: rotate(360deg); } }
        .loaded #loader { opacity: 0; visibility: hidden; pointer-events: none; }
    </style>
</head>

<body>

    <nav>
        <ul>
            <li><a href="about.html" class="view-more-btn">ÀñÀö‚äπAboutMe‚äπÀöÀñ</a></li>
            <li><a href="index.html" class="view-more-btn">ÀñÀö‚äπHome‚äπÀöÀñ</a></li>
            <li><a href="mywork.html" class="view-more-btn">ÀñÀö‚äπWorks‚äπÀöÀñ</a></li>
            <li><a href="experience.html" class="view-more-btn">ÀñÀö‚äπExperience‚äπÀöÀñ</a></li> <!-- NEW BUTTON ADDED -->
        </ul>
    </nav>

    <section id="about">
        <h2>More About Me</h2>

        <div class="about-list">

            <!-- Introduction -->
            <div class="about-entry">
                <div class="about-title">Introduction</div>
                <div class="about-body">
                    <div class="about-text">
                        <div class="about-points">
                            <div><strong>Current position:</strong> Year 4 BAS student in School of Creative Media, City University of Hong Kong</div>
                            <div><strong>Age:</strong> still young 0w0</div>
                            <div><strong>Favorite color:</strong> Light green</div>
                            <div><strong>Favorite food:</strong> Takoyaki</div>
                            <div><strong>MBTI:</strong> ENFJ ‚Äî The Protagonist</div>
                        </div>
                        <div class="chart-container" id="vis-mbti"></div>
                    </div>
                </div>
            </div>

            <!-- Hobbies -->
            <div class="about-entry">
                <div class="about-title">Hobby</div>
                <div class="about-body">
                    <div class="chart-container" id="vis-hobby"></div>
                </div>
                <div>Press on the drawing part to view my drawings :D</div>
            </div>

            <!-- Grades -->
            <div class="about-entry">
                <div class="about-title">University Course Grade</div>
                <div class="chart-container" id="vis-grades-scatter"></div>
            </div>

            <!-- Instruments -->
            <div class="about-entry">
                <div class="about-title">Instruments I Play</div>
                <div class="about-body">
                    <div class="about-text">
                        <div class="about-points" style="font-size:1.8em;">
                            <div>Drum setü•Å</div>
                            <div>Pianoüéπ</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Favorite Singer -->
            <div class="about-entry">
                <div class="about-title">Favorite Singer</div>
                <div class="about-body">
                    <div class="about-text">
                        <p style="font-size:1.8em; margin-bottom:40px; color:khaki;">ËëâÊúà„ÇÜ„Çâ ‚Äî Hatsuki Yura</p>
                        <a href="https://www.youtube.com/playlist?list=PLjFjwa9nwKrfrVHYNUnuk6uwPr4joojPW" target="_blank" class="view-more-btn">
                            Listen to My Favorite Playlist on YouTube
                        </a>
                    </div>
                </div>
            </div>

        </div>
    </section>

    <!-- Back to Top -->
    <button id="back-to-top" title="Back to Top">^</button>

    <!-- Drawing Lightbox -->
    <div id="drawing-lightbox">
        <span class="drawing-close">√ó</span>
        <span class="drawing-nav" id="drawing-prev"> <- </span>
        <span class="drawing-nav" id="drawing-next"> -> </span>
        <img id="drawing-img">
    </div>

    <!-- Loader -->
    <div id="loader">
        <div class="hourglass"></div>
        <p>It is almost done! Please wait~</p>
    </div>

    <script src="src/mbti.js"></script>
    <script src="src/hobby.js"></script>
    <script src="src/grades-scatter.js"></script>

    <script>
        // Back to top
        const btt = document.getElementById('back-to-top');
        window.addEventListener('scroll', () => {
            btt.classList.toggle('show', window.scrollY > 500);
        });
        btt.onclick = () => window.scrollTo({top:0, behavior:'smooth'});

        // Loader
        window.addEventListener('load', () => {
            document.body.classList.add('loaded');
        });

        // Drawing lightbox (if you still want it)
        const lightbox = document.getElementById('drawing-lightbox');
        const img = document.getElementById('drawing-img');
        let currentIndex = 0;
        const images = ['images/miku.png','images/newyear.png','images/twoboys.png','images/twogirls.png','images/night.png'];

        document.querySelectorAll('.about-gallery img').forEach((img, i) => {
            img.onclick = () => {
                currentIndex = i;
                document.getElementById('drawing-img').src = images[i];
                lightbox.style.display = 'flex';
            };
        });

        document.querySelector('.drawing-close').onclick = () => lightbox.style.display = 'none';
        document.getElementById('drawing-prev').onclick = (e) => {
            e.stopPropagation();
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            img.src = images[currentIndex];
        };
        document.getElementById('drawing-next').onclick = (e) => {
            e.stopPropagation();
            currentIndex = (currentIndex + 1) % images.length;
            img.src = images[currentIndex];
        };
        lightbox.onclick = () => lightbox.style.display = 'none';
    </script>
</body>
</html>